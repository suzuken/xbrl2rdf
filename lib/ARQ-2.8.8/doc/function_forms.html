<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<!--
<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
 Firefox gets it wrong (puts a marging at the top) if the declarations as included 
-->

<head>
<title>ARQ - Filter Forms</title>
<link rel="stylesheet" type="text/css" href="styles/doc.css" />
</head>
<body>

<h1>ARQ - Filter Forms</h1>
<p>This page describes function-like operators that can be used in expressions, 
such as FILTERs, assignments and SELECT expressions.</p>
<p>These are not strictly functions - the evaluation semantics of custom 
functions is to evaluate each argument then call the function with the results 
of the sub-expressions. Examples in standard SPARQL include <code>bound</code>, 
which does not evaluate a variable as an expression but just tests whether it is 
set or not, and boolean operators <code>||</code> and <code>&amp;&amp;</code> which 
handle errors and do not just evaluate each branch and combining the results.</p>
<p>ARQ adds two forms: <code>IF</code> and <code>COALESCE.</code></p>
<p><code>IF</code> and <code>COALESCE</code> involve syntactic extension and are available if the query
is parsed with language <code>Syntax.syntaxARQ</code>.</p>
<h2>IF</h2>
<p>The <code>IF</code> form evaluates it's first argument to get a boolean 
result, then evaluates and return the value of the second if the boolean result 
is true, and the third argument if it is false.</p>
<p>Examples:</p>
<pre class="box">IF ( ?x&lt;0 , &quot;negative&quot; , &quot;positive&quot; )</pre>
<pre class="box"># A possible way to do default values.
LET( ?z := IF(bound(?z) , ?z , &quot;DftValue&quot; ) )</pre>
<h2>COALESCE</h2>
<p>The <code>COALESCE </code>form returns the first argument of it's argument 
list that is bound.</p>
<pre class="box"># Suppose ?y is bound to &quot;y&quot; and ?z to &quot;z&quot; but ?x is not.
COALESCE(?x , ?y , ?z) # return &quot;y&quot;</pre>
<p>&nbsp;</p>



<p class="footnote"><a href="documentation.html">ARQ Documentation Page</a></p>
</body>
</html>
